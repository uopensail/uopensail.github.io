# 如何配置分类热门召回

分类热门召回是一种常见且有效的推荐策略，通过细致的分类可以提高推荐的精准度。更细致的分类能够帮助我们为用户推荐更符合其兴趣的内容，从而提升用户体验和业务效果。在这一过程中，运营人员和工程技术人员的紧密合作至关重要。运营人员负责物料分类和打标，而技术人员则为整个系统提供技术支持。以下是如何通过RecGo平台配置分类热门召回的详细步骤。

## 第一步：物料分类打标

物料的分类打标是召回配置的基础步骤之一。运营人员在这个阶段起着主导作用：

1. **建立分类体系**: 运营人员需要全面规划和确定所有可能的分类，建立一个清晰的分类结构。

2. **物料打标**:
   
   - 若物料数量较少，运营人员可手动为每个物料打标。
   - 若物料数量庞大，可与技术人员合作，训练一个分类打标模型。运营人员需先手动为部分物料进行打标，以提供训练数据，再由技术人员训练模型进行自动打标。
   - 另一种方法是利用大语言模型协助进行自动化打标。

## 第二步：准备分类热门数据

数据准备是配置召回策略的基础。在这一阶段，运营人员需要收集并整理每个分类内的热门物料数据。以下是详细的操作步骤：

### 数据收集与计算

1. **数据收集**: 运营人员需要通过分析用户行为数据，如点击率、浏览量和购买率等，来识别每个分类中的热门物料。

2. **数据计算**: 将收集到的物料按热度进行排序。热度的计算可基于用户互动数、购买量等指标的综合评估。

### 数据格式化

为了确保数据的规范性和易于处理，建议使用以下格式之一来组织数据：

#### Excel格式

创建一个Excel文件并包含以下字段：

- **category**: 物料所属的分类。
- **item**: 物料名称或ID。
- **rank**: 物料的热门级别，数值越小表示越热门。

**示例表格**：

| category | item | rank |
| -------- | ---- | ---- |
| 分类1      | 物料1  | 1    |
| 分类1      | 物料3  | 2    |
| 分类1      | 物料2  | 3    |
| 分类2      | 物料2  | 1    |
| 分类2      | 物料3  | 2    |
| 分类2      | 物料1  | 3    |

#### JSON格式

如果更倾向于使用JSON格式，数据结构应如下所示：

```json
{
    "分类1": ["物料1", "物料2", "物料3"],
    "分类2": ["物料2", "物料1", "物料5"],
    "分类3": ["物料3", "物料7", "物料11"],
    "分类4": ["物料4", "物料4", "物料3"]
}
```

### 上传数据文件

1. **登录RecGo平台**: 使用您的账号登录RecGo平台的网页界面。

2. **上传文件**: 导航至数据上传页面，将准备好的Excel或JSON文件上传。

3. **获取`resource-id`**: 上传成功后，系统将为该文件生成一个唯一的`resource-id`，用于后续的召回配置。

## 第三步：配置召回

完成数据准备后，接下来是配置召回策略。确保您的用户数据中包含区域特征信息，例如`u_d_cat`，以便于进行精确召回。

### 配置文件设置

在RecGo平台的配置文件中，按照以下格式进行召回设置：

```
[[Pipeline.Recall]]
name = "cat-hottest-v1"     # 配置名称，用于标识当前版本
resource = "resource-id"    # 使用之前获取的文件资源编号
recall_type = 0             # 标识召回策略的类型（0表示特定策略）
template = "{u_d_cat}"      # 使用用户分类特征作为模板参数
keys = 20                   # 设定特征组合的维度数量
count = 100                 # 设置单次召回的最大物料数量
```

### 提交配置

1. **检查配置**: 仔细检查配置文件各参数，确保设置正确无误。

2. **提交配置**: 保存并提交配置以应用召回策略。

通过这些步骤，您将能够成功配置分类热门召回功能，提高用户的内容推荐体验。
