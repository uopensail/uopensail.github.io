# 场景

## 设计理念

我们将推荐场景抽象为独立的生产单元（类比工业场景中的工厂），每个场景对应部署一套完整的推荐系统。这种设计遵循以下核心原则：

1. 系统隔离性：通过物理隔离不同场景的推荐系统，有效规避跨场景的算法干扰和资源竞争
2. 架构简洁性：单一职责的推荐架构更易于迭代优化和问题排查
3. 策略定制化：支持为不同业务场景定制差异化的推荐策略

## 物料池管理

每个场景维护专属的物料存储池，类比不同工厂的独立原料仓。操作指南：

1. 场景创建时需绑定指定物料池
2. 支持两种物料注入方式：
   - 管理控制台手动配置（详见[物料池管理指南](https://gpt.transsion.com/API-Reference/itempool.md)）
   - API自动化接入（参考[OpenAPI文档](https://gpt.transsion.com/API-Reference/itempool.md)）

## 策略调控参数

基于基础物料池，我们提供两级调控策略：

| 参数类型 | 配置项     | 作用域        | 功能说明         |
| ---- | ------- | ---------- | ------------ |
| 准入策略 | filter  | 全量物料       | 布尔表达式定义准入白名单 |
| 加权策略 | booster | 通过filter物料 | 动态调整候选集曝光权重  |

## 电商场景示例

某电商平台推荐系统配置：

- 基础物料池：100,000件商品
- 准入策略：`stock > 100` → 筛选60,000件有库存商品
- 加权策略：`publishTime + 604800 >= currentTime()` → 提升7日内上新商品曝光

对应TOML配置方案：

```toml
[ItemPool]
name = "ecommerce-pool-v1"  # 与物料管理平台注册名称严格一致
filter = "stock > 100"       # 库存有效性过滤（SQL WHERE语法）
boost = "publishTime + 604800 >= currentTime()"  # 时间窗口函数计算新品
```
